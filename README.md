---
title: "Codebook for the Getting and Cleaning Data course project"
author: "Szando"
date: "01/25/2015"
output: html_document
---

# Codebook for the Getting and Cleaning Data course project

## Original data set

The data set to be analyzed and processed in this project was collected and provided by The Department of Biophysical and Electronic Engineering (DIBE) of the University of Genoa.

A series of experiments has been carried out by DIBE to collect various movement related data. The electric signals was generated by smartphones attached to the participants' waists while performing light exercise activities.

For detailed information regarding the original data please refer to one or all of the below sources:
[Human Activity Recognition Using Smartphones Data Set](http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones)

[The original data set also includes a README file which provides more information regarding the processed data](https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip)

The data was devided into two separate data sets; a training and a test data set.
Both data sets use the same variables. The data made available for the public contains the raw signal recordings along with a set of calculated values stored in spearate files.

For this particular project only a subset of the calculated values - related to either the mean or the standard deviation of the observations - was used. To make these variable names more readable a few minor modifications had to be performed without rendering them unrecognizable.

#### List of variables with their original names
##### IDX      Standard deviation related variables

*      4	tBodyAcc-std()-X
*	5	tBodyAcc-std()-Y
*	6	tBodyAcc-std()-Z
*	44	tGravityAcc-std()-X
*	45	tGravityAcc-std()-Y
*	46	tGravityAcc-std()-Z
*	84	tBodyAccJerk-std()-X
*	85	tBodyAccJerk-std()-Y
*	86	tBodyAccJerk-std()-Z
*	124	tBodyGyro-std()-X
*	125	tBodyGyro-std()-Y
*	126	tBodyGyro-std()-Z
*	164	tBodyGyroJerk-std()-X
*	165	tBodyGyroJerk-std()-Y
*	166	tBodyGyroJerk-std()-Z
*	202	tBodyAccMag-std()
*	215	tGravityAccMag-std()
*	228	tBodyAccJerkMag-std()
*	241	tBodyGyroMag-std()
*	254	tBodyGyroJerkMag-std()
*	269	fBodyAcc-std()-X
*	270	fBodyAcc-std()-Y
*	271	fBodyAcc-std()-Z
*	348	fBodyAccJerk-std()-X
*	349	fBodyAccJerk-std()-Y
*	350	fBodyAccJerk-std()-Z
*	427	fBodyGyro-std()-X
*	428	fBodyGyro-std()-Y
*	429	fBodyGyro-std()-Z
*	504	fBodyAccMag-std()
*	517	fBodyBodyAccJerkMag-std()
*	530	fBodyBodyGyroMag-std()
*	543	fBodyBodyGyroJerkMag-std()


##### IDX   Mean related variables

*	1	tBodyAcc-mean()-X
*	2	tBodyAcc-mean()-Y
*	3	tBodyAcc-mean()-Z
*	41	tGravityAcc-mean()-X
*	42	tGravityAcc-mean()-Y
*	43	tGravityAcc-mean()-Z
*	81	tBodyAccJerk-mean()-X
*	82	tBodyAccJerk-mean()-Y
*	83	tBodyAccJerk-mean()-Z
*	121	tBodyGyro-mean()-X
*	122	tBodyGyro-mean()-Y
*	123	tBodyGyro-mean()-Z
*	161	tBodyGyroJerk-mean()-X
*	162	tBodyGyroJerk-mean()-Y
*	163	tBodyGyroJerk-mean()-Z
*	201	tBodyAccMag-mean()
*	214	tGravityAccMag-mean()
*	227	tBodyAccJerkMag-mean()
*	240	tBodyGyroMag-mean()
*	253	tBodyGyroJerkMag-mean()
*	266	fBodyAcc-mean()-X
*	267	fBodyAcc-mean()-Y
*	268	fBodyAcc-mean()-Z
*	294	fBodyAcc-meanFreq()-X
*	295	fBodyAcc-meanFreq()-Y
*	296	fBodyAcc-meanFreq()-Z
*	345	fBodyAccJerk-mean()-X
*	346	fBodyAccJerk-mean()-Y
*	347	fBodyAccJerk-mean()-Z
*	373	fBodyAccJerk-meanFreq()-X
*	374	fBodyAccJerk-meanFreq()-Y
*	375	fBodyAccJerk-meanFreq()-Z
*	424	fBodyGyro-mean()-X
*	425	fBodyGyro-mean()-Y
*	426	fBodyGyro-mean()-Z
*	452	fBodyGyro-meanFreq()-X
*	453	fBodyGyro-meanFreq()-Y
*	454	fBodyGyro-meanFreq()-Z
*	503	fBodyAccMag-mean()
*	513	fBodyAccMag-meanFreq()
*	516	fBodyBodyAccJerkMag-mean()
*	526	fBodyBodyAccJerkMag-meanFreq()
*	529	fBodyBodyGyroMag-mean()
*	539	fBodyBodyGyroMag-meanFreq()
*	542	fBodyBodyGyroJerkMag-mean()
*	552	fBodyBodyGyroJerkMag-meanFreq()
*	555	angle(tBodyAccMean,gravity)
*	556	angle(tBodyAccJerkMean),gravityMean)
*	557	angle(tBodyGyroMean,gravityMean)
*	558	angle(tBodyGyroJerkMean,gravityMean)
*	559	angle(X,gravityMean)
*	560	angle(Y,gravityMean)
*	561	angle(Z,gravityMean)

## Data analysis process description

### Input data
The original data set was provided in several files. The training and test data sets were split into two parts and in each part the actual observations were stored separately from the labels and variable names. 

The goal was to bring these components into a tidy data set, then use it to generate further statistical observations. To simplify some of these steps the functions in the dplyr library were used.

### Processing the data
To achieve this goal the following steps were taken:

1. Read the input files into individual data tables and vectors

      a. The training and test data sets were read to store the actual observations
      
      b. The activity labels were read and stored
      
      c. The subject identifiers were read and stored
      
      d. The variable names were read and stored in a vector
      
2. Filter the relevant columns from the input observation data sets to include only the mean or standard deviation related variables

3. Merge the data sets

      a. Merge the observations with their respective additional data (labels and subject IDs)
      
      b. Merge the training and test data sets
      
      c. Rename the columns to be more readable
      
4. Create a new data set more suited for grouped data (dplyr)

5. Generate a data set grouped by subject and activity

```{r}
gpd_dt<-group_by(new_dataset, subject, activity_label)
```

6. Calculate the mean of each variable grouped by subject and activity

```{r}
# Calculate means for each vriable except grouping variables (activity names and subjects)
grouped_means <- gpd_dt %>% summarise_each(funs(mean))
```

7. Save the results in a text file

```{r}
write.table(grouped_means, file = "group_avgs.txt", row.name=FALSE)
```
